@tailwind base;
@tailwind components;
@tailwind utilities;

/* Set base styles */
html {
  height: 100%;
  width: 100%;
  /* Use dvh (dynamic viewport height) for mobile support, fallback to vh */
  height: 100dvh;
  min-height: 100dvh;
  /* Prevent white background on mobile overscroll */
  overscroll-behavior: none;
  /* Disable system color scheme detection */
  color-scheme: only light;
  /* Prevent page-level scrolling */
  overflow: hidden;
}

body {
  height: 100%;
  width: 100%;
  min-height: 100%;
  /* Prevent white background on mobile overscroll */
  overscroll-behavior: none;
  /* Prevent page-level scrolling */
  overflow: hidden;
  /* Prevent pull-to-refresh on mobile */
  touch-action: pan-x pan-y;
  /* Prevent iOS Safari bounce effect */
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

/* Custom brand color palette - overrides Radix colors with brand colors */

/* LIGHT MODE overrides (and default fallback) */
.radix-themes {
  /* In Light Mode, we use DARK GREEN for contrast against white */
  --mint-1: #D7F4DD !important;
  --mint-2: #C4E8D0 !important;
  --mint-3: #B0DCC3 !important;
  --mint-4: #9DD0B6 !important;
  --mint-5: #89C4A9 !important;
  --mint-6: #025940 !important; /* Primary borders/interactive - Dark Green for visibility */
  --mint-7: #025940 !important;
  --mint-8: #025940 !important;
  --mint-9: #025940 !important; /* Solid background - Dark Green */
  --mint-10: #024530 !important; /* Hover - Darker Green */
  --mint-11: #025940 !important; /* Text - Dark Green */
  --mint-12: #025940 !important; /* Text - Dark Green */
  
  /* Alpha variants */
  --mint-a1: rgba(2, 89, 64, 0.05) !important;
  --mint-a2: rgba(2, 89, 64, 0.1) !important;
  --mint-a3: rgba(2, 89, 64, 0.15) !important;
  --mint-a4: rgba(2, 89, 64, 0.2) !important;
  --mint-a5: rgba(2, 89, 64, 0.3) !important;
  --mint-a6: rgba(2, 89, 64, 0.4) !important;
  --mint-a7: rgba(2, 89, 64, 0.5) !important;
  --mint-a8: rgba(2, 89, 64, 0.6) !important;
  --mint-a9: rgba(2, 89, 64, 0.8) !important;
  --mint-a10: rgba(2, 89, 64, 0.9) !important;
  --mint-a11: rgba(2, 89, 64, 0.95) !important;
  --mint-a12: rgba(2, 89, 64, 1) !important;

  /* Override accent colors to map to our custom mint */
  --accent-1: var(--mint-1) !important;
  --accent-2: var(--mint-2) !important;
  --accent-3: var(--mint-3) !important;
  --accent-4: var(--mint-4) !important;
  --accent-5: var(--mint-5) !important;
  --accent-6: var(--mint-6) !important;
  --accent-7: var(--mint-7) !important;
  --accent-8: var(--mint-8) !important;
  --accent-9: var(--mint-9) !important;
  --accent-10: var(--mint-10) !important;
  --accent-11: var(--mint-11) !important;
  --accent-12: var(--mint-12) !important;
  
  --accent-a1: var(--mint-a1) !important;
  --accent-a2: var(--mint-a2) !important;
  --accent-a3: var(--mint-a3) !important;
  --accent-a4: var(--mint-a4) !important;
  --accent-a5: var(--mint-a5) !important;
  --accent-a6: var(--mint-a6) !important;
  --accent-a7: var(--mint-a7) !important;
  --accent-a8: var(--mint-a8) !important;
  --accent-a9: var(--mint-a9) !important;
  --accent-a10: var(--mint-a10) !important;
  --accent-a11: var(--mint-a11) !important;
  --accent-a12: var(--mint-a12) !important;
}

/* DARK MODE overrides */
/* We use the selector that RadixThemeProvider applies to HTML */
html[data-theme="dark"] .radix-themes,
[data-radix-theme][data-radix-theme-appearance="dark"] {
  /* In Dark Mode, we use LIGHT GREEN for contrast against dark gray */
  --mint-1: #025940 !important; /* Darkest background */
  --mint-2: #025940 !important;
  --mint-3: #025940 !important;
  --mint-4: #025940 !important;
  --mint-5: #025940 !important;
  --mint-6: #7ADB8F !important; /* Primary borders - Light Green */
  --mint-7: #7ADB8F !important;
  --mint-8: #7ADB8F !important;
  --mint-9: #7ADB8F !important; /* Solid background - Light Green */
  --mint-10: #95E5A6 !important; /* Hover - Lighter Green */
  --mint-11: #7ADB8F !important; /* Text - Light Green */
  --mint-12: #D7F4DD !important; /* High contrast text - Lightest Green */

  /* Alpha variants for dark mode */
  --mint-a1: rgba(122, 219, 143, 0.05) !important;
  --mint-a2: rgba(122, 219, 143, 0.1) !important;
  --mint-a3: rgba(122, 219, 143, 0.15) !important;
  --mint-a4: rgba(122, 219, 143, 0.2) !important;
  --mint-a5: rgba(122, 219, 143, 0.3) !important;
  --mint-a6: rgba(122, 219, 143, 0.4) !important;
  --mint-a7: rgba(122, 219, 143, 0.5) !important;
  --mint-a8: rgba(122, 219, 143, 0.64) !important;
  --mint-a9: rgba(122, 219, 143, 0.8) !important;
  --mint-a10: rgba(122, 219, 143, 0.9) !important;
  --mint-a11: rgba(122, 219, 143, 0.95) !important;
  --mint-a12: rgba(122, 219, 143, 1) !important;

  /* Custom gray scale for dark mode */
  --gray-1: #1C1C1C !important;
  --gray-2: #252525 !important;
  --gray-3: #2E2E2E !important;
  --gray-4: #383838 !important;
  --gray-5: #404040 !important;
  --gray-6: #4A4A4A !important;
  --gray-7: #545454 !important;
  --gray-8: #5E5E5E !important;
  --gray-9: #686868 !important;
  --gray-10: #727272 !important;
  --gray-11: #7C7C7C !important;
  --gray-12: #EEEEEE !important; /* High contrast text - standard white/gray */
  
  --color-background: var(--gray-1) !important;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
}

/* Hide scrollbars while maintaining scroll functionality */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Radix UI Toast animations */
@keyframes slideIn {
  from {
    transform: translateX(calc(100% + 16px));
  }
  to {
    transform: translateX(0);
  }
}

@keyframes hide {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Radix UI AlertDialog animations */
@keyframes overlayShow {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes contentShow {
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* Remove borders and background from Select dropdowns */
.select-no-border,
.select-no-border button,
.select-no-border [data-radix-select-trigger],
button[data-radix-select-trigger].select-no-border {
  border: none !important;
  border-width: 0 !important;
  outline: none !important;
  box-shadow: none !important;
  background-color: transparent !important;
}

/* Target Radix Select trigger directly */
[data-radix-select-trigger].select-no-border {
  border: none !important;
  border-width: 0 !important;
  outline: none !important;
  box-shadow: none !important;
  background-color: transparent !important;
}

/* Styled Select Trigger - Matches action-button-square style */
.select-trigger-styled {
  border-radius: var(--radius-3) !important;
  border: 2px solid white !important;
  background-color: transparent !important;
  transition: all 0.2s ease-out !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;
}

.select-trigger-styled:hover {
  background-color: rgba(255, 255, 255, 0.05) !important;
  border-color: var(--mint-6) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
}

.select-trigger-styled[data-state="open"] {
  border-color: var(--mint-6) !important;
  background-color: rgba(2, 89, 64, 0.05) !important;
}

/* Dark mode adjustments for styled trigger */
html[data-theme="dark"] .select-trigger-styled,
[data-radix-theme][data-radix-theme-appearance="dark"] .select-trigger-styled {
  border-color: var(--gray-6) !important;
  background-color: var(--gray-3) !important;
}

html[data-theme="dark"] .select-trigger-styled:hover,
[data-radix-theme][data-radix-theme-appearance="dark"] .select-trigger-styled:hover {
  border-color: var(--mint-6) !important;
  background-color: var(--gray-4) !important;
}

/* Action Button Styling - Green Pill Shape (only for primary action buttons) */
/* This class can be added to buttons that should have the prominent green pill style */
button.action-button {
  border-radius: 9999px !important; /* Full rounded pill shape */
  font-weight: 600 !important;
  transition: all 0.3s ease-out !important;
  border: 2px solid white !important;
  text-transform: uppercase !important;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 0 10px rgba(122, 219, 143, 0.2) !important;
  background-color: #7ADB8F !important; /* Light green */
  color: #1C1C1C !important; /* Dark text */
}

button.action-button:hover:not([disabled]) {
  background-color: #95E5A6 !important; /* Lighter green on hover */
  transform: translateY(-2px);
  box-shadow: 
    0 0 20px rgba(122, 219, 143, 0.6),
    0 0 40px rgba(122, 219, 143, 0.4),
    0 4px 16px rgba(122, 219, 143, 0.5) !important;
}

button.action-button[disabled] {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  background-color: var(--gray-4) !important;
  color: var(--gray-9) !important;
}

/* Red variant for destructive actions */
button.action-button[data-accent-color="red"] {
  background-color: #E54D2E !important;
  color: white !important;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 0 10px rgba(229, 77, 46, 0.2) !important;
  background-color: #E54D2E !important;
}

button.action-button[data-accent-color="red"]:hover:not([disabled]) {
  background-color: #DD4425 !important;
  transform: translateY(-2px);
  box-shadow: 
    0 0 20px rgba(229, 77, 46, 0.6),
    0 0 40px rgba(229, 77, 46, 0.4),
    0 4px 16px rgba(229, 77, 46, 0.5) !important;
}

/* Square variant (standard border radius) */
button.action-button-square {
  border-radius: var(--radius-3) !important; /* Standard radius */
  font-weight: 600 !important;
  transition: all 0.3s ease-out !important;
  border: 2px solid white !important;
  text-transform: uppercase !important;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 0 10px rgba(122, 219, 143, 0.2) !important;
  background-color: #7ADB8F !important; /* Light green */
  color: #1C1C1C !important; /* Dark text */
}

button.action-button-square:hover:not([disabled]) {
  background-color: #95E5A6 !important; /* Lighter green on hover */
  transform: translateY(-2px);
  box-shadow: 
    0 0 20px rgba(122, 219, 143, 0.6),
    0 0 40px rgba(122, 219, 143, 0.4),
    0 4px 16px rgba(122, 219, 143, 0.5) !important;
}

button.action-button-square[disabled] {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
  background-color: var(--gray-4) !important;
  color: var(--gray-9) !important;
}

/* Red variant for square action buttons */
button.action-button-square[data-accent-color="red"] {
  background-color: #E54D2E !important;
  color: white !important;
  box-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 0 10px rgba(229, 77, 46, 0.2) !important;
}

button.action-button-square[data-accent-color="red"]:hover:not([disabled]) {
  background-color: #DD4425 !important;
  transform: translateY(-2px);
  box-shadow: 
    0 0 20px rgba(229, 77, 46, 0.6),
    0 0 40px rgba(229, 77, 46, 0.4),
    0 4px 16px rgba(229, 77, 46, 0.5) !important;
}

/* Light mode text adjustment */
.radix-themes button.action-button,
.radix-themes button.action-button-square {
  color: #1C1C1C !important;
}

/* Dark mode text adjustment */
html[data-theme="dark"] button.action-button,
[data-radix-theme][data-radix-theme-appearance="dark"] button.action-button,
html[data-theme="dark"] button.action-button-square,
[data-radix-theme][data-radix-theme-appearance="dark"] button.action-button-square {
  color: #1C1C1C !important; /* Keep dark text on light green background */
}

/* Timestamp Links in Chat - Clickable video timestamps */
.timestamp-link {
  display: inline-flex;
  align-items: center;
  padding: 2px 8px;
  border-radius: 6px;
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
  font-size: 0.9em;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s ease;
  background-color: rgba(2, 89, 64, 0.1);
  color: #025940;
  border: 1px solid rgba(2, 89, 64, 0.3);
}

.timestamp-link:hover {
  background-color: rgba(2, 89, 64, 0.2);
  border-color: rgba(2, 89, 64, 0.5);
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(2, 89, 64, 0.2);
}

/* Dark mode timestamp links */
html[data-theme="dark"] .timestamp-link,
[data-radix-theme][data-radix-theme-appearance="dark"] .timestamp-link {
  background-color: rgba(122, 219, 143, 0.15);
  color: #7ADB8F;
  border-color: rgba(122, 219, 143, 0.3);
}

html[data-theme="dark"] .timestamp-link:hover,
[data-radix-theme][data-radix-theme-appearance="dark"] .timestamp-link:hover {
  background-color: rgba(122, 219, 143, 0.25);
  border-color: rgba(122, 219, 143, 0.5);
  box-shadow: 0 2px 4px rgba(122, 219, 143, 0.3);
}

/* API Version Tooltip Styling */
.api-version-tooltip {
  padding: 2px 0;
  line-height: 1.4;
}

/* Ensure tooltip content inherits proper theme colors */
[data-radix-tooltip-content] .api-version-tooltip {
  background-color: var(--gray-2);
  border: 1px solid var(--gray-6);
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.15),
    0 0 0 1px var(--gray-5);
}

/* Dark mode tooltip adjustments */
html[data-theme="dark"] [data-radix-tooltip-content] .api-version-tooltip,
[data-radix-theme][data-radix-theme-appearance="dark"] [data-radix-tooltip-content] .api-version-tooltip {
  background-color: var(--gray-2);
  border-color: var(--gray-6);
}

/* Light mode tooltip adjustments */
html[data-theme="light"] [data-radix-tooltip-content] .api-version-tooltip,
[data-radix-theme][data-radix-theme-appearance="light"] [data-radix-tooltip-content] .api-version-tooltip {
  background-color: var(--gray-1);
  border-color: var(--gray-5);
}

/* Collapsible Sections (details/summary) - Light Mode */
details.collapsible-section {
  margin: 1rem 0;
  border: 1px solid rgba(2, 89, 64, 0.3);
  border-radius: 8px;
  overflow: hidden;
  background-color: rgba(2, 89, 64, 0.03);
  transition: all 0.2s ease;
}

/* Add padding to the content area inside details */
details.collapsible-section > *:not(summary) {
  padding: 0 1rem;
}

/* Add top padding to the first element after summary */
details.collapsible-section > summary + * {
  padding-top: 1rem;
}

/* Add bottom padding to the last element inside details */
details.collapsible-section > *:last-child {
  padding-bottom: 1rem;
}

details.collapsible-section:hover {
  border-color: rgba(2, 89, 64, 0.5);
  background-color: rgba(2, 89, 64, 0.05);
}

summary.collapsible-summary {
  cursor: pointer;
  padding: 0.75rem 1rem;
  font-weight: 600;
  background-color: rgba(2, 89, 64, 0.08);
  color: #025940;
  user-select: none;
  transition: all 0.2s ease;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

summary.collapsible-summary::-webkit-details-marker {
  display: none;
}

summary.collapsible-summary::before {
  content: 'â–¶';
  display: inline-block;
  transition: transform 0.2s ease;
  font-size: 0.75em;
  color: #025940;
}

details.collapsible-section[open] summary.collapsible-summary::before {
  transform: rotate(90deg);
}

summary.collapsible-summary:hover {
  background-color: rgba(2, 89, 64, 0.15);
}

details.collapsible-section[open] summary.collapsible-summary {
  background-color: rgba(2, 89, 64, 0.12);
  border-bottom: 1px solid rgba(2, 89, 64, 0.2);
}

/* Dark mode collapsible sections */
html[data-theme="dark"] details.collapsible-section,
[data-radix-theme][data-radix-theme-appearance="dark"] details.collapsible-section {
  border-color: rgba(122, 219, 143, 0.3);
  background-color: rgba(122, 219, 143, 0.03);
}

html[data-theme="dark"] details.collapsible-section:hover,
[data-radix-theme][data-radix-theme-appearance="dark"] details.collapsible-section:hover {
  border-color: rgba(122, 219, 143, 0.5);
  background-color: rgba(122, 219, 143, 0.05);
}

html[data-theme="dark"] summary.collapsible-summary,
[data-radix-theme][data-radix-theme-appearance="dark"] summary.collapsible-summary {
  background-color: rgba(122, 219, 143, 0.08);
  color: #7ADB8F;
}

html[data-theme="dark"] summary.collapsible-summary::before,
[data-radix-theme][data-radix-theme-appearance="dark"] summary.collapsible-summary::before {
  color: #7ADB8F;
}

html[data-theme="dark"] summary.collapsible-summary:hover,
[data-radix-theme][data-radix-theme-appearance="dark"] summary.collapsible-summary:hover {
  background-color: rgba(122, 219, 143, 0.15);
}

html[data-theme="dark"] details.collapsible-section[open] summary.collapsible-summary,
[data-radix-theme][data-radix-theme-appearance="dark"] details.collapsible-section[open] summary.collapsible-summary {
  background-color: rgba(122, 219, 143, 0.12);
  border-bottom-color: rgba(122, 219, 143, 0.2);
}
